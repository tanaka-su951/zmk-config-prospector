    - name: Checkout Stable Tag (Final Fix)
      run: |
        echo "--- 2. å®‰å®šç‰ˆã‚¿ã‚° ${{ env.ZMK_STABLE_TAG }} ã«å¼·åˆ¶ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ ---"
        cd zmk
        
        # ðŸš¨ ä¿®æ­£ 1: ãƒªãƒ¢ãƒ¼ãƒˆã‹ã‚‰ã®å…¨ã‚¿ã‚°ã®å¼·åˆ¶å–å¾—ã‚’ç¢ºä¿
        git fetch --tags
        
        # ðŸš¨ ä¿®æ­£ 2: ã‚¿ã‚°åã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è©¦ã™
        TAG_NAME="${{ env.ZMK_STABLE_TAG }}"
        V_TAG_NAME="v${{ env.ZMK_STABLE_TAG }}"
        
        # 3.5.0 ãŒå­˜åœ¨ã™ã‚‹ã‹ã€v3.5.0 ãŒå­˜åœ¨ã™ã‚‹ã‹ã‚’ç¢ºèªã—ã€å¯¾å¿œã™ã‚‹ã‚¿ã‚°åã‚’ä½¿ç”¨
        if git rev-parse --verify "refs/tags/${TAG_NAME}" >/dev/null 2>&1; then
            echo "Found tag: ${TAG_NAME}"
            git checkout "${TAG_NAME}"
        elif git rev-parse --verify "refs/tags/${V_TAG_NAME}" >/dev/null 2>&1; then
            echo "Found tag: ${V_TAG_NAME}"
            git checkout "${V_TAG_NAME}"
        else
            echo "Error: Neither tag '${TAG_NAME}' nor '${V_TAG_NAME}' found. Falling back to 'main'."
            git checkout main
        fi
        
        cd ..
