name: Build Prospector Firmware

on: [push, pull_request, workflow_dispatch]

jobs:
  build:
    # 外部コンテンツへの読み取り権限を明示的に付与
    permissions:
      contents: read
    
    # ★★★ 修正: ZMK 公式テンプレートリポジトリのワークフローを参照 ★★★
    # こちらのワークフローは、ユーザーの 'board' と 'shield' 入力に最適化されています。
    uses: zmkfirmware/zmk-config-template/.github/workflows/build.yml@main 
    
    with:
      # パラメータ名は、このテンプレートワークフローに合わせてシンプルな形式に戻します。
      board: seeeduino_xiao_ble
      shield: prospector_scanner
